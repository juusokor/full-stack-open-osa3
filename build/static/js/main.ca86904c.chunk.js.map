{"version":3,"sources":["components/Numbers.js","components/NewNumber.js","components/Filter.js","components/Message.js","services/persons.js","components/App.js","index.js"],"names":["Person","_ref2","person","handleRemoveClick","react_default","a","createElement","key","id","name","number","type","data-id","onClick","Numbers","_ref","persons","filter","numberList","e","toLowerCase","includes","map","Numbers_Person","NewNumber","handleSubmit","newNameState","newNumberState","handleNameChange","handleNumberChange","onSubmit","value","onChange","Filter","handleFilterChange","Message","message","className","baseUrl","services_persons","getAll","axios","get","then","response","data","create","newObject","post","update","put","concat","remove","objectId","delete","App","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","addName","event","preventDefault","hasName","state","find","newName","nameObject","newNumber","length","personService","setState","setTimeout","updatedNameObject","objectSpread","window","confirm","catch","alert","removeName","removeId","parseInt","target","dataset","personR","_this2","components_Message","components_Filter","components_NewNumber","components_Numbers","React","Component","ReactDOM","render","components_App","document","getElementById"],"mappings":"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","file":"static/js/main.ca86904c.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Numbers = ({ persons, filter, handleRemoveClick }) => {\r\n  const filteredList = persons.filter(e =>\r\n    e.name.toLowerCase().includes(filter)\r\n  );\r\n  const numberList = filteredList.map(person => (\r\n    <Person key={person.id} person={person} handleRemoveClick={handleRemoveClick} />\r\n  ));\r\n  // const numberList = persons.map(person => <Person key={person.name} person={person} number={person.number} />)\r\n\r\n  return (\r\n    <div>\r\n      <h2>Numerot</h2>\r\n      <table>\r\n        <tbody>{numberList}</tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst Person = ({ person, handleRemoveClick }) => {\r\n  return (\r\n    <tr key={person.id}>\r\n      <td>{person.name}</td>\r\n      <td>{person.number}</td>\r\n      <td><button type=\"submit\" data-id={person.id} onClick={handleRemoveClick}>poista</button></td>\r\n    </tr>\r\n  );\r\n};\r\n\r\nexport default Numbers;\r\n","import React from \"react\";\r\n\r\nconst NewNumber = ({\r\n  handleSubmit,\r\n  newNameState,\r\n  newNumberState,\r\n  handleNameChange,\r\n  handleNumberChange\r\n}) => {\r\n  return (\r\n    <div>\r\n      <h2>Lisää uusi / muuta olemassaolevaa numeroa</h2>\r\n      <form onSubmit={handleSubmit}>\r\n        <div>\r\n          nimi:\r\n          <input value={newNameState} onChange={handleNameChange} />\r\n        </div>\r\n        <div>\r\n          numero:\r\n          <input value={newNumberState} onChange={handleNumberChange} />\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">lisää</button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NewNumber;\r\n","import React from \"react\";\r\n\r\nconst Filter = ({ filter, handleFilterChange }) => {\r\n  return (\r\n    <div>\r\n      <form>\r\n        <div>\r\n          rajaa näytettäviä:{\" \"}\r\n          <input value={filter} onChange={handleFilterChange} />\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Filter;\r\n","import React from \"react\"\r\n\r\nconst Message = ( {message} ) => {\r\n    if (message === null) {\r\n        return null\r\n    }\r\n    return(\r\n        <div className=\"message\">{message}</div>\r\n    )\r\n}\r\n\r\nexport default Message","import axios from \"axios\";\r\n\r\nconst baseUrl = \"/api/persons\";\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl);\r\n  return request.then(response => response.data);\r\n};\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject);\r\n  return request.then(response => response.data);\r\n};\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject);\r\n  return request.then(response => response.data);\r\n};\r\nconst remove = objectId => {\r\n  const request = axios.delete(`${baseUrl}/${objectId}`);\r\n  return request.then(response => response.data);\r\n};\r\n\r\nexport default { getAll, create, update, remove };\r\n","import React from \"react\";\r\nimport Numbers from \"./Numbers\";\r\nimport NewNumber from \"./NewNumber\";\r\nimport Filter from \"./Filter\";\r\nimport Message from \"./Message\";\r\nimport personService from \"../services/persons\";\r\n\r\nclass App extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      persons: [],\r\n      newName: \"\",\r\n      newNumber: \"\",\r\n      filter: \"\",\r\n      message: null\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    personService.getAll().then(persons => {\r\n      this.setState({ persons });\r\n    });\r\n  }\r\n\r\n  addName = event => {\r\n    event.preventDefault();\r\n    const hasName = this.state.persons.find(e => e.name === this.state.newName);\r\n    \r\n    if (typeof hasName === \"undefined\") {\r\n      const nameObject = {\r\n        name: this.state.newName,\r\n        number: this.state.newNumber,\r\n        id: this.state.persons.length+1\r\n      };\r\n      const persons = this.state.persons.concat(nameObject);\r\n\r\n      personService\r\n      .create(nameObject)\r\n      .then(() => {\r\n      this.setState({\r\n        persons,\r\n        newName: \"\",\r\n        newNumber: \"\",\r\n        message: `Lisätty nimi ${nameObject.name} numerolla ${nameObject.number}`\r\n      }) \r\n      setTimeout(() => {\r\n        this.setState({message: null})\r\n       }, 5000)\r\n    })\r\n      } else {\r\n      const updatedNameObject = { ...hasName, number: this.state.newNumber }\r\n      \r\n      if (window.confirm(`${updatedNameObject.name} on jo luetteleossa. Korvataanko vanha numero uudella?`)) {\r\n        personService\r\n        .update(updatedNameObject.id, updatedNameObject)\r\n        .then(updatedNameObject => {\r\n          const persons = this.state.persons.filter(e => e.id !== updatedNameObject.id)\r\n          this.setState({\r\n            persons : persons.concat(updatedNameObject),\r\n            newName: \"\",\r\n            newNumber: \"\",\r\n            message: `Päivitetty nimi ${updatedNameObject.name} numerolla ${updatedNameObject.number}`\r\n          })\r\n          setTimeout(() => {\r\n            this.setState({message : null})\r\n          }, 5000)\r\n        })\r\n        .catch(() => {\r\n          alert('Varoitus! Päivitys epäonnistui koska muutoksen kohteena olleen henkilön tiedot on jo poistettu.')\r\n        personService.getAll().then(persons => {\r\n          this.setState({ persons });\r\n        })})\r\n      }\r\n      }\r\n  };\r\n\r\n  removeName = event => {\r\n      event.preventDefault();\r\n      const removeId = parseInt(event.target.dataset.id)\r\n      const personR = this.state.persons.find(e => e.id === removeId)\r\n     \r\n      if (window.confirm(`Poistetaanko id ${personR.name}?`)) {\r\n      personService\r\n      .remove(removeId)\r\n      .then(() => {\r\n        this.setState({\r\n        persons : this.state.persons.filter(e => e.id !== removeId),\r\n        message: `Poistettu henkilö ${personR.name}`\r\n      })\r\n      setTimeout(() => {this.setState({message : null})}, 5000)\r\n    })\r\n      }\r\n  }\r\n\r\n  handleNameChange = event => {\r\n    this.setState({ newName: event.target.value });\r\n  };\r\n  handleNumberChange = event => {\r\n    this.setState({ newNumber: event.target.value });\r\n  };\r\n  handleFilterChange = event => {\r\n    this.setState({ filter: event.target.value });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Message message={this.state.message}/>\r\n        <h1>Puhelinluettelo</h1>\r\n        <Filter\r\n          filter={this.state.filter}\r\n          handleFilterChange={this.handleFilterChange}\r\n        />\r\n        <NewNumber\r\n          handleSubmit={this.addName}\r\n          newNameState={this.state.newName}\r\n          newNumberState={this.state.newNumber}\r\n          handleNameChange={this.handleNameChange}\r\n          handleNumberChange={this.handleNumberChange}\r\n        />\r\n        <Numbers persons={this.state.persons} filter={this.state.filter} handleRemoveClick={this.removeName}/>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport App from './components/App'\r\nimport './index.css'\r\n\r\nReactDOM.render(\r\n  <App />,\r\n  document.getElementById('root')\r\n)"],"sourceRoot":""}