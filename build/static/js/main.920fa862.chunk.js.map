{"version":3,"sources":["components/Numbers.js","components/NewNumber.js","components/Filter.js","components/Message.js","services/persons.js","components/App.js","index.js"],"names":["Person","_ref2","person","handleRemoveClick","react_default","a","createElement","key","id","name","number","type","data-id","onClick","Numbers","_ref","persons","filter","numberList","e","toLowerCase","includes","map","Numbers_Person","NewNumber","handleSubmit","newNameState","newNumberState","handleNameChange","handleNumberChange","onSubmit","value","onChange","Filter","handleFilterChange","Message","message","className","baseUrl","services_persons","getAll","axios","get","then","response","data","create","newObject","post","update","put","concat","remove","objectId","delete","App","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","addName","event","preventDefault","hasName","state","find","newName","nameObject","newNumber","personService","setState","setTimeout","updatedNameObject","objectSpread","window","confirm","catch","alert","removeName","removeId","target","dataset","personR","_this2","components_Message","components_Filter","components_NewNumber","components_Numbers","React","Component","ReactDOM","render","components_App","document","getElementById"],"mappings":"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","file":"static/js/main.920fa862.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Numbers = ({ persons, filter, handleRemoveClick }) => {\r\n  const filteredList = persons.filter(e =>\r\n    e.name.toLowerCase().includes(filter)\r\n  );\r\n  const numberList = filteredList.map(person => (\r\n    <Person\r\n      key={person.id}\r\n      person={person}\r\n      handleRemoveClick={handleRemoveClick}\r\n    />\r\n  ));\r\n\r\n  return (\r\n    <div>\r\n      <h2>Numerot</h2>\r\n      <table>\r\n        <tbody>{numberList}</tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst Person = ({ person, handleRemoveClick }) => {\r\n  return (\r\n    <tr key={person.id}>\r\n      <td>{person.name}</td>\r\n      <td>{person.number}</td>\r\n      <td>\r\n        <button type=\"submit\" data-id={person.id} onClick={handleRemoveClick}>\r\n          poista\r\n        </button>\r\n      </td>\r\n    </tr>\r\n  );\r\n};\r\n\r\nexport default Numbers;\r\n","import React from \"react\";\r\n\r\nconst NewNumber = ({\r\n  handleSubmit,\r\n  newNameState,\r\n  newNumberState,\r\n  handleNameChange,\r\n  handleNumberChange\r\n}) => {\r\n  return (\r\n    <div>\r\n      <h2>Lisää uusi / muuta olemassaolevaa numeroa</h2>\r\n      <form onSubmit={handleSubmit}>\r\n        <div>\r\n          nimi:\r\n          <input value={newNameState} onChange={handleNameChange} />\r\n        </div>\r\n        <div>\r\n          numero:\r\n          <input value={newNumberState} onChange={handleNumberChange} />\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">lisää</button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NewNumber;\r\n","import React from \"react\";\r\n\r\nconst Filter = ({ filter, handleFilterChange }) => {\r\n  return (\r\n    <div>\r\n      <form>\r\n        <div>\r\n          rajaa näytettäviä:{\" \"}\r\n          <input value={filter} onChange={handleFilterChange} />\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Filter;\r\n","import React from \"react\"\r\n\r\nconst Message = ( {message} ) => {\r\n    if (message === null) {\r\n        return null\r\n    }\r\n    return(\r\n        <div className=\"message\">{message}</div>\r\n    )\r\n}\r\n\r\nexport default Message","import axios from \"axios\";\r\n\r\nconst baseUrl = \"/api/persons\";\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl);\r\n  return request.then(response => response.data);\r\n};\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject);\r\n  return request.then(response => response.data);\r\n};\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject);\r\n  return request.then(response => response.data);\r\n};\r\nconst remove = objectId => {\r\n  const request = axios.delete(`${baseUrl}/${objectId}`);\r\n  return request.then(response => response.data);\r\n};\r\n\r\nexport default { getAll, create, update, remove };\r\n","import React from \"react\";\r\nimport Numbers from \"./Numbers\";\r\nimport NewNumber from \"./NewNumber\";\r\nimport Filter from \"./Filter\";\r\nimport Message from \"./Message\";\r\nimport personService from \"../services/persons\";\r\n\r\nclass App extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      persons: [],\r\n      newName: \"\",\r\n      newNumber: \"\",\r\n      filter: \"\",\r\n      message: null\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    personService.getAll().then(persons => {\r\n      this.setState({ persons });\r\n    });\r\n  }\r\n\r\n  addName = event => {\r\n    event.preventDefault();\r\n    const hasName = this.state.persons.find(e => e.name === this.state.newName);\r\n\r\n    if (typeof hasName === \"undefined\") {\r\n      const nameObject = {\r\n        name: this.state.newName,\r\n        number: this.state.newNumber\r\n      };\r\n\r\n      personService.create(nameObject).then(response => {\r\n        const persons = this.state.persons.concat(response);\r\n        this.setState({\r\n          persons: persons,\r\n          newName: \"\",\r\n          newNumber: \"\",\r\n          message: `Lisätty nimi ${nameObject.name} numerolla ${\r\n            nameObject.number\r\n          }`\r\n        });\r\n        setTimeout(() => {\r\n          this.setState({ message: null });\r\n        }, 5000);\r\n      });\r\n    } else {\r\n      const updatedNameObject = { ...hasName, number: this.state.newNumber };\r\n\r\n      if (\r\n        window.confirm(\r\n          `${\r\n            updatedNameObject.name\r\n          } on jo luetteleossa. Korvataanko vanha numero uudella?`\r\n        )\r\n      ) {\r\n        personService\r\n          .update(updatedNameObject.id, updatedNameObject)\r\n          .then(updatedNameObject => {\r\n            const persons = this.state.persons.filter(\r\n              e => e.id !== updatedNameObject.id\r\n            );\r\n            this.setState({\r\n              persons: persons.concat(updatedNameObject),\r\n              newName: \"\",\r\n              newNumber: \"\",\r\n              message: `Päivitetty nimi ${updatedNameObject.name} numerolla ${\r\n                updatedNameObject.number\r\n              }`\r\n            });\r\n            setTimeout(() => {\r\n              this.setState({ message: null });\r\n            }, 5000);\r\n          })\r\n          .catch(() => {\r\n            alert(\r\n              \"Varoitus! Päivitys epäonnistui koska muutoksen kohteena olleen henkilön tiedot on jo poistettu.\"\r\n            );\r\n            personService.getAll().then(persons => {\r\n              this.setState({ persons });\r\n            });\r\n          });\r\n      }\r\n    }\r\n  };\r\n\r\n  removeName = event => {\r\n    event.preventDefault();\r\n    const removeId = event.target.dataset.id;\r\n    const personR = this.state.persons.find(e => e.id === removeId);\r\n\r\n    if (window.confirm(`Poistetaanko ${personR.name}?`)) {\r\n      personService.remove(removeId).then(() => {\r\n        this.setState({\r\n          persons: this.state.persons.filter(e => e.id !== removeId),\r\n          message: `Poistettu henkilö ${personR.name}`\r\n        });\r\n        setTimeout(() => {\r\n          this.setState({ message: null });\r\n        }, 5000);\r\n      });\r\n    }\r\n  };\r\n\r\n  handleNameChange = event => {\r\n    this.setState({ newName: event.target.value });\r\n  };\r\n  handleNumberChange = event => {\r\n    this.setState({ newNumber: event.target.value });\r\n  };\r\n  handleFilterChange = event => {\r\n    this.setState({ filter: event.target.value });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Message message={this.state.message} />\r\n        <h1>Puhelinluettelo</h1>\r\n        <Filter\r\n          filter={this.state.filter}\r\n          handleFilterChange={this.handleFilterChange}\r\n        />\r\n        <NewNumber\r\n          handleSubmit={this.addName}\r\n          newNameState={this.state.newName}\r\n          newNumberState={this.state.newNumber}\r\n          handleNameChange={this.handleNameChange}\r\n          handleNumberChange={this.handleNumberChange}\r\n        />\r\n        <Numbers\r\n          persons={this.state.persons}\r\n          filter={this.state.filter}\r\n          handleRemoveClick={this.removeName}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport App from './components/App'\r\nimport './index.css'\r\n\r\nReactDOM.render(\r\n  <App />,\r\n  document.getElementById('root')\r\n)"],"sourceRoot":""}